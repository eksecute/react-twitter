{"ast":null,"code":"var _jsxFileName = \"/Users/stepandudar/Desktop/react02/my-app/src/components/app/app.js\";\nimport React from 'react';\nimport AppHeader from \"../app-header/app-header\";\nimport SearchPanel from \"../search-panel/search-panel\";\nimport PostStatusFilter from \"../post-status-filter/post-status-filter\";\nimport PostList from \"../post-list/post-list\";\nimport PostAddForm from \"../post-add-form/post-add-form\";\nimport './app.css';\nimport style from './App.module.css';\nimport styled from \"styled-components\";\nconst AppBlock = styled.div`\n    max-width: 800px;\n    margin: 0 auto;\n`;\nconst StyledAppBlock = styled(AppBlock)`\n//background-color: gray;\n`;\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myPosts: [{\n        label: \"going to learn React\",\n        important: false,\n        like: false,\n        id: \"aaw1\"\n      }, {\n        label: \"need to learn faster\",\n        important: false,\n        like: false,\n        id: \"aaw2\"\n      }, {\n        label: \"i must finish first 2 folders to go for a meat baking\",\n        important: true,\n        like: false,\n        id: \"aaw3\"\n      }, {\n        label: \"rock isn't so bad\",\n        like: false,\n        id: \"aaw4\"\n      }],\n      term: ''\n    };\n    this.deleteItem = this.deleteItem.bind(this);\n    this.addItem = this.addItem.bind(this);\n    this.onToggleImportant = this.onToggleImportant.bind(this);\n    this.onToggleLike = this.onToggleLike.bind(this);\n    this.onUpdateSearch = this.onUpdateSearch.bind(this);\n    this.maxId = 4;\n  }\n\n  deleteItem(id) {\n    this.setState(({\n      myPosts\n    }) => {\n      const index = myPosts.findIndex(elem => elem.id === id);\n      console.log(\"index: \" + index + \"; id: \" + id); // myPosts.slice(index, 1);\n      // return {\n      //   myPosts: myPosts\n      // };\n\n      const before = myPosts.slice(0, index);\n      const after = myPosts.slice(index + 1);\n      const newArr = [...before, ...after];\n      return {\n        myPosts: newArr\n      };\n    });\n  }\n\n  addItem(body) {\n    const newItem = {\n      label: body,\n      important: false,\n      id: this.maxId++\n    };\n    this.setState(state => {\n      const newArr = [...state.myPosts, newItem];\n      return {\n        myPosts: newArr\n      };\n    });\n  }\n\n  onToggleImportant(id) {\n    this.setState(({\n      myPosts\n    }) => {\n      const index = myPosts.findIndex(el => el.id === id);\n      const old = myPosts[index];\n      const newItem = { ...old,\n        important: !old.important\n      };\n      const before = myPosts.slice(0, index);\n      const after = myPosts.slice(index + 1);\n      const newArr = [...before, newItem, ...after];\n      return {\n        myPosts: newArr\n      };\n    });\n  }\n\n  onToggleLike(id) {\n    this.setState(({\n      myPosts\n    }) => {\n      const index = myPosts.findIndex(el => el.id === id);\n      const old = myPosts[index];\n      const newItem = { ...old,\n        like: !old.like\n      };\n      const before = myPosts.slice(0, index);\n      const after = myPosts.slice(index + 1);\n      const newArr = [...before, newItem, ...after];\n      return {\n        myPosts: newArr\n      };\n    });\n  }\n\n  searchPost(items, term) {\n    if (items.length === 0) {\n      return items;\n    }\n\n    return items.filter(item => {\n      return item.label.indexOf(term) > -1;\n    });\n  }\n\n  onUpdateSearch(text) {\n    this.setState({\n      term: text\n    });\n  }\n\n  render() {\n    const {\n      myPosts,\n      term\n    } = this.state;\n    const liked = myPosts.filter(item => item.like).length;\n    const allPosts = myPosts.length;\n    const visiblePosts = this.searchPost(myPosts, term);\n    return /*#__PURE__*/React.createElement(StyledAppBlock, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AppHeader, {\n      liked: liked,\n      allPosts: allPosts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-panel d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SearchPanel, {\n      term: term,\n      onUpdateSearch: this.onUpdateSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PostStatusFilter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(PostList, {\n      posts:\n      /* this.state.myPosts */\n      visiblePosts,\n      onDelete: this.deleteItem,\n      onToggleImportant: this.onToggleImportant,\n      onToggleLike: this.onToggleLike,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(PostAddForm, {\n      onAdd: this.addItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/stepandudar/Desktop/react02/my-app/src/components/app/app.js"],"names":["React","AppHeader","SearchPanel","PostStatusFilter","PostList","PostAddForm","style","styled","AppBlock","div","StyledAppBlock","App","Component","constructor","props","state","myPosts","label","important","like","id","term","deleteItem","bind","addItem","onToggleImportant","onToggleLike","onUpdateSearch","maxId","setState","index","findIndex","elem","console","log","before","slice","after","newArr","body","newItem","el","old","searchPost","items","length","filter","item","indexOf","text","render","liked","allPosts","visiblePosts"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport AppHeader from \"../app-header/app-header\";\nimport SearchPanel from \"../search-panel/search-panel\";\nimport PostStatusFilter from \"../post-status-filter/post-status-filter\";\nimport PostList from \"../post-list/post-list\";\nimport PostAddForm from \"../post-add-form/post-add-form\";\n\nimport './app.css';\nimport style from './App.module.css';\nimport styled from \"styled-components\";\n\nconst AppBlock = styled.div`\n    max-width: 800px;\n    margin: 0 auto;\n`;\nconst StyledAppBlock = styled(AppBlock)`\n//background-color: gray;\n`;\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myPosts : [\n        {\n          label: \"going to learn React\",\n          important: false,\n          like: false,\n          id: \"aaw1\"\n        },\n        {\n          label: \"need to learn faster\",\n          important: false,\n          like: false,\n          id: \"aaw2\"\n        },\n        {\n          label: \"i must finish first 2 folders to go for a meat baking\",\n          important: true,\n          like: false,\n          id: \"aaw3\"\n        },\n        {\n          label: \"rock isn't so bad\",\n          like: false,\n          id: \"aaw4\"\n        },\n      ],\n      term: ''\n    };\n    this.deleteItem = this.deleteItem.bind(this);\n    this.addItem = this.addItem.bind(this);\n    this.onToggleImportant = this.onToggleImportant.bind(this);\n    this.onToggleLike = this.onToggleLike.bind(this);\n    this.onUpdateSearch = this.onUpdateSearch.bind(this);\n\n    this.maxId = 4;\n  }\n\n  deleteItem(id) {\n    this.setState(({ myPosts }) => {\n      const index = myPosts.findIndex( elem => elem.id === id );\n      console.log(\"index: \" + index + \"; id: \" + id);\n      // myPosts.slice(index, 1);\n      // return {\n      //   myPosts: myPosts\n      // };\n      const before = myPosts.slice(0, index);\n      const after = myPosts.slice(index + 1);\n\n      const newArr = [...before, ...after];\n\n      return { myPosts: newArr }\n    });\n  };\n  addItem(body) {\n    const newItem = {\n      label: body,\n      important: false,\n      id: this.maxId++\n    };\n\n    this.setState((state) => {\n      const newArr = [...state.myPosts, newItem];\n      return { myPosts: newArr }\n    });\n  }\n\n  onToggleImportant(id) {\n    this.setState(({ myPosts }) => {\n      const index = myPosts.findIndex(el => el.id === id);\n\n      const old = myPosts[index];\n      const newItem = { ...old, important: !old.important};\n\n      const before = myPosts.slice(0, index);\n      const after = myPosts.slice(index + 1);\n\n      const newArr = [...before, newItem, ...after];\n      return { myPosts: newArr }\n    });\n  }\n  onToggleLike(id) {\n    this.setState(({ myPosts }) => {\n      const index = myPosts.findIndex(el => el.id === id);\n\n      const old = myPosts[index];\n      const newItem = { ...old, like: !old.like};\n\n      const before = myPosts.slice(0, index);\n      const after = myPosts.slice(index + 1);\n\n      const newArr = [...before, newItem, ...after];\n      return { myPosts: newArr }\n\n    });\n  }\n\n  searchPost(items, term) {\n    if (items.length === 0) {\n      return items;\n    }\n\n    return items.filter( (item) => {\n        return item.label.indexOf(term) > -1\n      } )\n  }\n  onUpdateSearch(text) {\n    this.setState({\n      term: text\n    })\n  }\n\n  render() {\n\n    const { myPosts, term } = this.state;\n\n    const liked    = myPosts.filter(item => item.like).length;\n    const allPosts = myPosts.length;\n\n    const visiblePosts = this.searchPost(myPosts, term);\n\n    return (\n        <StyledAppBlock >\n          {/*<div className={ style.app } >*/}\n          {/*<div className=\"app\" >*/}\n          <AppHeader liked={ liked } allPosts={ allPosts }/>\n          <div className=\"search-panel d-flex\">\n            <SearchPanel term={ term } onUpdateSearch={ this.onUpdateSearch } />\n            <PostStatusFilter/>\n          </div>\n          <PostList posts = { /* this.state.myPosts */ visiblePosts }\n                    onDelete = { this.deleteItem }\n                    onToggleImportant = { this.onToggleImportant }\n                    onToggleLike = { this.onToggleLike }\n          />\n          <PostAddForm onAdd={ this.addItem }/>\n        </StyledAppBlock>\n    )\n  }\n};\n"]},"metadata":{},"sourceType":"module"}